(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{52:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(4149),r=a(4849),l=a(6932);let n=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});n.displayName="Input"},1096:(e,t,a)=>{"use strict";a.d(t,{LC:()=>r,ND:()=>s});let s=(0,a(5387).createBrowserClient)("https://uifwchsfuywqlyhckvcy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpZndjaHNmdXl3cWx5aGNrdmN5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4OTI0NzAsImV4cCI6MjA2NzQ2ODQ3MH0.CwpoWdb0Cr9T6Q_f3yp1mJPepWeOtiXraSADP5vW0nk",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"}}),r=async()=>{try{let{data:e,error:t}=await s.from("conversations").select("count").limit(1);if(t&&"PGRST116"!==t.code)throw t;return{success:!0,error:null}}catch(e){return console.error("Supabase connection test failed:",e),{success:!1,error:e.message||"Connection failed"}}}},1357:(e,t,a)=>{"use strict";a.d(t,{D:()=>o,ThemeProvider:()=>i});var s=a(4149),r=a(4849);let l={fr:{newConversation:"Nouvelle conversation",patient:"Patient",online:"En ligne",secured:"S\xe9curis\xe9",welcomeTitle:"Comment puis-je vous aider aujourd'hui ?",welcomeDescription:"Posez-moi vos questions de sant\xe9, partagez vos documents m\xe9dicaux ou d\xe9crivez vos sympt\xf4mes. Je peux analyser vos examens, photos et vous fournir des informations personnalis\xe9es.",inputPlaceholder:"D\xe9crivez vos sympt\xf4mes, posez une question ou envoyez des documents...",continuePlaceholder:"Continuez votre conversation...",popularSuggestions:"Suggestions populaires",copyright:"\xa9 2025 DocIA - Douala General Hospital. Tous droits r\xe9serv\xe9s.",cardiology:"Cardiologie",cardiovascularPrevention:"Comment pr\xe9venir les maladies cardiovasculaires ?",neurology:"Neurologie",strokeSigns:"Quels sont les signes d'un AVC ?",medications:"M\xe9dicaments",antibioticsUsage:"Comment prendre correctement les antibiotiques ?",diabetes:"Diab\xe8te",glucoseControl:"Comment contr\xf4ler sa glyc\xe9mie au quotidien ?",prevention:"Pr\xe9vention",immuneSystem:"Comment renforcer son syst\xe8me immunitaire ?",symptoms:"Sympt\xf4mes",persistentFever:"Que faire en cas de fi\xe8vre persistante ?",editProfile:"Modifier le profil",modifyProfile:"Modifier le profil",profilePhoto:"Photo de profil",autoGenerated:"G\xe9n\xe9r\xe9e automatiquement \xe0 partir de votre nom",email:"Email",emailCannotChange:"L'email ne peut pas \xeatre modifi\xe9",fullName:"Nom complet",deleteAccount:"Supprimer le compte",deleteAccountTitle:"Supprimer le compte",deleteAccountDescription:"Cette action est irr\xe9versible. Toutes vos conversations seront supprim\xe9es.",deleteAccountWarning:"Cette action supprimera d\xe9finitivement votre compte et toutes vos donn\xe9es.",deleteAccountConfirm:"Supprimer d\xe9finitivement",signOut:"Se d\xe9connecter",cancel:"Annuler",filesAttached:"Fichiers",confidence:"confiance"},en:{newConversation:"New conversation",patient:"Patient",online:"Online",secured:"Secured",welcomeTitle:"How can I help you today?",welcomeDescription:"Ask me your health questions, share your medical documents or describe your symptoms. I can analyze your exams, photos and provide you with personalized information.",inputPlaceholder:"Describe your symptoms, ask a question or send documents...",continuePlaceholder:"Continue your conversation...",popularSuggestions:"Popular suggestions",copyright:"\xa9 2025 DocIA - Douala General Hospital. All rights reserved.",cardiology:"Cardiology",cardiovascularPrevention:"How to prevent cardiovascular diseases?",neurology:"Neurology",strokeSigns:"What are the signs of a stroke?",medications:"Medications",antibioticsUsage:"How to take antibiotics correctly?",diabetes:"Diabetes",glucoseControl:"How to control blood sugar daily?",prevention:"Prevention",immuneSystem:"How to strengthen your immune system?",symptoms:"Symptoms",persistentFever:"What to do in case of persistent fever?",editProfile:"Edit profile",modifyProfile:"Edit profile",profilePhoto:"Profile photo",autoGenerated:"Automatically generated from your name",email:"Email",emailCannotChange:"Email cannot be changed",fullName:"Full name",deleteAccount:"Delete account",deleteAccountTitle:"Delete account",deleteAccountDescription:"This action is irreversible. All your conversations will be deleted.",deleteAccountWarning:"This action will permanently delete your account and all your data.",deleteAccountConfirm:"Delete permanently",signOut:"Sign out",cancel:"Cancel",filesAttached:"Files",confidence:"confidence"}},n=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,r.useState)("system"),[o,d]=(0,r.useState)("fr");(0,r.useEffect)(()=>{navigator.language.toLowerCase().startsWith("en")?d("en"):d("fr")},[]),(0,r.useEffect)(()=>{let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===a){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t)}else e.classList.add(a)},[a]);let c={theme:a,setTheme:i,language:o,setLanguage:d,t:l[o]};return(0,s.jsx)(n.Provider,{value:c,children:t})}function o(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},1906:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var s=a(4149),r=a(4849),l=a(8029),n=a(4876),i=a(6932);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,i.cn)(o(),a),...r})});d.displayName=l.b.displayName},2783:(e,t,a)=>{Promise.resolve().then(a.bind(a,8969))},3544:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,L3:()=>h,c7:()=>x,lG:()=>o,rr:()=>p,zM:()=>d});var s=a(4149),r=a(4849),l=a(5605),n=a(4923),i=a(6932);let o=l.bL,d=l.l9,c=l.ZL;l.bm;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});m.displayName=l.hJ.displayName;let u=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[r,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.UC.displayName;let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};x.displayName="DialogHeader";let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});h.displayName=l.hE.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});p.displayName=l.VY.displayName},6266:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>o,TN:()=>d});var s=a(4149),r=a(4849),l=a(4876),n=a(6932);let i=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,...l}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(i({variant:r}),a),...l})});o.displayName="Alert",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})}).displayName="AlertTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",a),...r})});d.displayName="AlertDescription"},6585:(e,t,a)=>{"use strict";a.d(t,{E:()=>i});var s=a(4149);a(4849);var r=a(4876),l=a(6932);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)(n({variant:a}),t),...r})}},6932:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(1786),r=a(117);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},7112:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var s=a(4149),r=a(4849),l=a(2864),n=a(4876),i=a(6932);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:d=!1,...c}=e,m=d?l.DX:"button";return(0,s.jsx)(m,{className:(0,i.cn)(o({variant:r,size:n,className:a})),ref:t,...c})});d.displayName="Button"},7693:(e,t,a)=>{"use strict";a.d(t,{w:()=>i});var s=a(4149),r=a(4849),l=a(3758),n=a(6932);let i=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:i=!0,...o}=e;return(0,s.jsx)(l.b,{ref:t,decorative:i,orientation:r,className:(0,n.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...o})});i.displayName=l.b.displayName},8106:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i});var s=a(4149),r=a(4849),l=a(6932);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},8969:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ew});var s=a(4149),r=a(4849),l=a(7112),n=a(52),i=a(6801),o=a(6932);let d=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(i.bL,{ref:t,className:(0,o.cn)("relative overflow-hidden",a),...l,children:[(0,s.jsx)(i.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(c,{}),(0,s.jsx)(i.OK,{})]})});d.displayName=i.bL.displayName;let c=r.forwardRef((e,t)=>{let{className:a,orientation:r="vertical",...l}=e;return(0,s.jsx)(i.VM,{ref:t,orientation:r,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,s.jsx)(i.lr,{className:"relative flex-1 rounded-full bg-border"})})});c.displayName=i.VM.displayName;var m=a(219);let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(m.bL,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});u.displayName=m.bL.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(m._V,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",a),...r})});x.displayName=m._V.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(m.H4,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});h.displayName=m.H4.displayName;var p=a(8106),f=a(6585),g=a(3544),b=a(1906),v=a(7693),N=a(6266),j=a(8805),y=a(8459),w=a(8567),k=a(9601);let C=j.bL,A=j.l9;j.YJ,j.ZL,j.Pb,j.z6,r.forwardRef((e,t)=>{let{className:a,inset:r,children:l,...n}=e;return(0,s.jsxs)(j.ZP,{ref:t,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...n,children:[l,(0,s.jsx)(y.A,{className:"ml-auto"})]})}).displayName=j.ZP.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(j.G5,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=j.G5.displayName;let S=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,s.jsx)(j.ZL,{children:(0,s.jsx)(j.UC,{ref:t,sideOffset:r,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});S.displayName=j.UC.displayName;let D=r.forwardRef((e,t)=>{let{className:a,inset:r,...l}=e;return(0,s.jsx)(j.q7,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...l})});D.displayName=j.q7.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:l,...n}=e;return(0,s.jsxs)(j.H_,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(j.VF,{children:(0,s.jsx)(w.A,{className:"h-4 w-4"})})}),r]})}).displayName=j.H_.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(j.hN,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(j.VF,{children:(0,s.jsx)(k.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=j.hN.displayName,r.forwardRef((e,t)=>{let{className:a,inset:r,...l}=e;return(0,s.jsx)(j.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...l})}).displayName=j.JU.displayName;let z=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(j.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});z.displayName=j.wv.displayName;var _=a(7579),R=a(5075),E=a(1398),P=a(156),T=a(2124),I=a(559),F=a(4923),$=a(1541),L=a(2611),q=a(4178),O=a(1022),J=a(680),U=a(728),V=a(8938),H=a(4282),G=a(4807),M=a(6309),Z=a(6139),W=a(5576),B=a(7149),Q=a(9162),X=a(1096),Y=a(6385),K=a(724),ee=a(7156);let et=ee.bL,ea=ee.l9,es=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:l=4,...n}=e;return(0,s.jsx)(ee.ZL,{children:(0,s.jsx)(ee.UC,{ref:t,align:r,sideOffset:l,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});es.displayName=ee.UC.displayName;var er=a(4744),el=a(5496),en=a(9030),ei=a(9632),eo=a(6410),ed=a(5712),ec=a(4691);function em(e){let{onTranscript:t,disabled:a=!1,className:n}=e,[i,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(""),h=(0,r.useRef)(null);return((0,r.useEffect)(()=>{{let e=window.SpeechRecognition||window.webkitSpeechRecognition;m(!!e),e&&(h.current=new e,h.current.continuous=!1,h.current.interimResults=!0,h.current.lang="fr-FR",h.current.onstart=()=>{d(!0)},h.current.onresult=e=>{let a="",s="";for(let t=e.resultIndex;t<e.results.length;t++){let r=e.results[t][0].transcript;e.results[t].isFinal?a+=r:s+=r}x(s),a&&(t(a),x(""))},h.current.onend=()=>{d(!1),x("")},h.current.onerror=e=>{console.error("Erreur reconnaissance vocale:",e.error),d(!1),x("")})}return()=>{h.current&&h.current.stop()}},[t]),c)?(0,s.jsxs)("div",{className:(0,o.cn)("relative",n),children:[(0,s.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{var e,t;c&&!a&&(i?null===(e=h.current)||void 0===e||e.stop():null===(t=h.current)||void 0===t||t.start())},disabled:a,className:(0,o.cn)("h-8 w-8 p-0 rounded-full transition-all",i?"bg-red-100 text-red-600 hover:bg-red-200 animate-pulse":"text-gray-400 hover:text-teal-600 hover:bg-teal-50"),title:i?"Arr\xeater l'enregistrement":"Commencer l'enregistrement vocal",children:i?(0,s.jsx)(er.A,{className:"h-4 w-4"}):(0,s.jsx)(el.A,{className:"h-4 w-4"})}),u&&(0,s.jsx)("div",{className:"absolute bottom-full right-0 mb-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:u})]}):null}function eu(e){let{text:t,className:a}=e,[n,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{c("speechSynthesis"in window)},[]),d)?(0,s.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{if(!d||!t)return;if(n){window.speechSynthesis.cancel(),i(!1);return}let e=new SpeechSynthesisUtterance(t.replace(/[#*`_~]/g,"").replace(/\[([^\]]+)\]$$[^)]+$$/g,"$1").replace(/\n+/g," ").trim());e.lang="fr-FR",e.rate=.9,e.pitch=1,e.onstart=()=>i(!0),e.onend=()=>i(!1),e.onerror=()=>i(!1),window.speechSynthesis.speak(e)},className:(0,o.cn)("h-6 w-6 p-0 rounded-full",n?"text-blue-600 animate-pulse":"text-gray-400 hover:text-blue-600",a),title:n?"Arr\xeater la lecture":"Lire le message",children:n?(0,s.jsx)(en.A,{className:"h-3 w-3"}):(0,s.jsx)(ei.A,{className:"h-3 w-3"})}):null}function ex(e){let{onFilesChange:t,disabled:a=!1}=e,[n,i]=(0,r.useState)([]),[d,c]=(0,r.useState)(!1),m=(0,r.useRef)(null),u=(0,r.useRef)(null),x=(0,r.useRef)(null),h=(e,a)=>{if(!e)return;let s=Array.from(e),r=[];s.forEach(e=>{e.size<=0xa00000&&r.push(e)});let l=[...n,...r];i(l),t(l),c(!1)},p=e=>{let a=n.filter((t,a)=>a!==e);i(a),t(a)},g=[{icon:eo.A,label:"Photo/Image",accept:"image/*",ref:u,color:"text-green-600"},{icon:M.A,label:"Document",accept:".pdf,.doc,.docx,.txt",ref:x,color:"text-blue-600"},{icon:ed.A,label:"Tous fichiers",accept:"*/*",ref:m,color:"text-purple-600"}];return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(et,{open:d,onOpenChange:c,children:[(0,s.jsx)(ea,{asChild:!0,children:(0,s.jsxs)(l.$,{type:"button",variant:"ghost",size:"sm",disabled:a,className:(0,o.cn)("h-8 w-8 p-0 rounded-full transition-all relative",n.length>0?"text-teal-600 bg-teal-50 hover:bg-teal-100":"text-gray-400 hover:text-teal-600 hover:bg-teal-50"),title:"Joindre des fichiers",children:[(0,s.jsx)(ec.A,{className:"h-4 w-4"}),n.length>0&&(0,s.jsx)(f.E,{variant:"secondary",className:"absolute -top-2 -right-2 h-5 w-5 p-0 text-xs bg-teal-600 text-white",children:n.length})]})}),(0,s.jsx)(es,{className:"w-64 p-3",align:"end",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"font-medium text-sm text-gray-900 mb-3",children:"Joindre des fichiers"}),g.map((e,t)=>{let r=e.icon;return(0,s.jsxs)(l.$,{variant:"ghost",className:"w-full justify-start h-auto p-3 hover:bg-gray-50",onClick:()=>{var t;return null===(t=e.ref.current)||void 0===t?void 0:t.click()},disabled:a,children:[(0,s.jsx)(r,{className:(0,o.cn)("h-5 w-5 mr-3",e.color)}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-sm",children:e.label}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Max 10MB"})]})]},t)}),n.length>0&&(0,s.jsxs)("div",{className:"border-t pt-3 mt-3",children:[(0,s.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Fichiers s\xe9lectionn\xe9s:"}),(0,s.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:n.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[(0,s.jsx)("span",{className:"truncate flex-1",children:e.name}),(0,s.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(t),className:"h-4 w-4 p-0 ml-2 text-gray-400 hover:text-red-500",children:(0,s.jsx)(F.A,{className:"h-3 w-3"})})]},t))})]})]})})]}),g.map((e,t)=>(0,s.jsx)("input",{ref:e.ref,type:"file",multiple:!0,accept:e.accept,onChange:e=>h(e.target.files),className:"hidden",disabled:a},t))]})}function eh(e){let{text:t,speed:a=20,onComplete:l,className:n}=e,[i,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(0);return(0,r.useEffect)(()=>{if(c<t.length){let e=setTimeout(()=>{d(e=>e+t[c]),m(e=>e+1)},a);return()=>clearTimeout(e)}l&&l()},[c,t,a,l]),(0,r.useEffect)(()=>{d(""),m(0)},[t]),(0,s.jsx)("div",{className:(0,o.cn)("prose prose-sm max-w-none",n),dangerouslySetInnerHTML:{__html:i.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,'<code class="bg-gray-100 px-1 rounded">$1</code>').replace(/\n/g,"<br>")+(c<t.length?'<span class="animate-pulse">|</span>':"")}})}var ep=a(9678),ef=a(1357),eg=a(9833),eb=a(7100),ev=a(6745);function eN(){let{theme:e,setTheme:t}=(0,ef.D)();return(0,s.jsxs)(C,{children:[(0,s.jsx)(A,{asChild:!0,children:(0,s.jsxs)(l.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,s.jsx)(eg.A,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(eb.A,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(S,{align:"end",children:[(0,s.jsxs)(D,{onClick:()=>t("light"),children:[(0,s.jsx)(eg.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Light"})]}),(0,s.jsxs)(D,{onClick:()=>t("dark"),children:[(0,s.jsx)(eb.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Dark"})]}),(0,s.jsxs)(D,{onClick:()=>t("system"),children:[(0,s.jsx)(ev.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"System"})]})]})]})}var ej=a(3204);function ey(){let{language:e,setLanguage:t}=(0,ef.D)();return(0,s.jsxs)(C,{children:[(0,s.jsx)(A,{asChild:!0,children:(0,s.jsxs)(l.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,s.jsx)(ej.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle language"})]})}),(0,s.jsxs)(S,{align:"end",children:[(0,s.jsxs)(D,{onClick:()=>t("fr"),children:[(0,s.jsx)("span",{className:"mr-2",children:"\uD83C\uDDEB\uD83C\uDDF7"}),(0,s.jsx)("span",{children:"Fran\xe7ais"})]}),(0,s.jsxs)(D,{onClick:()=>t("en"),children:[(0,s.jsx)("span",{className:"mr-2",children:"\uD83C\uDDEC\uD83C\uDDE7"}),(0,s.jsx)("span",{children:"English"})]})]})]})}function ew(){var e,t,a;let{t:i}=(0,ef.D)(),[c,m]=(0,r.useState)([]),[j,y]=(0,r.useState)([]),[w,k]=(0,r.useState)(null),[ee,et]=(0,r.useState)(""),[ea,es]=(0,r.useState)(!1),[er,el]=(0,r.useState)(!0),[en,ei]=(0,r.useState)(null),[eo,ed]=(0,r.useState)([]),[ec,eg]=(0,r.useState)(!0),[eb,ev]=(0,r.useState)(null),[ej,ew]=(0,r.useState)(!1),[ek,eC]=(0,r.useState)(!1),[eA,eS]=(0,r.useState)(!1),[eD,ez]=(0,r.useState)(""),[e_,eR]=(0,r.useState)(!1),[eE,eP]=(0,r.useState)(null),[eT,eI]=(0,r.useState)(null),eF=(0,r.useRef)(null),e$=(0,Y.useRouter)(),eL=[{icon:_.A,title:i.cardiology,question:i.cardiovascularPrevention,color:"bg-red-3000",textColor:"text-red-600"},{icon:R.A,title:i.neurology,question:i.strokeSigns,color:"bg-purple-500",textColor:"text-purple-600"},{icon:E.A,title:i.medications,question:i.antibioticsUsage,color:"bg-blue-500",textColor:"text-blue-600"},{icon:P.A,title:i.diabetes,question:i.glucoseControl,color:"bg-green-500",textColor:"text-green-600"},{icon:T.A,title:i.prevention,question:i.immuneSystem,color:"bg-yellow-500",textColor:"text-yellow-600"},{icon:I.A,title:i.symptoms,question:i.persistentFever,color:"bg-orange-500",textColor:"text-orange-600"}];(0,r.useEffect)(()=>{eq(),eJ()},[]),(0,r.useEffect)(()=>{eO()},[c]),(0,r.useEffect)(()=>{eg(0===c.length)},[c]);let eq=async()=>{var e;let{data:{user:t}}=await X.ND.auth.getUser();if(!t){e$.push("/auth");return}ei(t),ez((null===(e=t.user_metadata)||void 0===e?void 0:e.full_name)||"")},eO=()=>{var e;null===(e=eF.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},eJ=async()=>{let{data:{user:e}}=await X.ND.auth.getUser();if(!e)return;let{data:t,error:a}=await X.ND.from("conversations").select("*").eq("user_id",e.id).order("updated_at",{ascending:!1});t&&!a&&y(t)},eU=async e=>{let{data:t,error:a}=await X.ND.from("messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});t&&!a&&m(t)},eV=async()=>{if(!en)return;let e="Nouvelle conversation ".concat(new Date().toLocaleDateString("fr-FR")),{data:t,error:a}=await X.ND.from("conversations").insert({user_id:en.id,title:e,message_count:0}).select().single();return t&&!a?(k(t.id),m([]),ed([]),eJ(),t.id):null},eH=e=>{k(e),ed([]),eU(e)},eG=async(e,t)=>{t.stopPropagation();let{error:a}=await X.ND.from("conversations").delete().eq("id",e);a||(w===e&&(k(null),m([])),eJ())},eM=async()=>{if(en&&eD.trim()){eR(!0),eP(null),eI(null);try{let{error:e}=await X.ND.auth.updateUser({data:{full_name:eD.trim(),avatar_url:"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(eD.trim()),"&background=0d9488&color=fff")}});if(e){eP(e.message);return}eI("Profil mis \xe0 jour avec succ\xe8s !"),eS(!1),setTimeout(()=>{eq(),eI(null)},2e3)}catch(e){eP("Erreur lors de la mise \xe0 jour du profil")}finally{eR(!1)}}},eZ=async()=>{if(en){eR(!0),eP(null);try{await X.ND.from("conversations").delete().eq("user_id",en.id),await X.ND.auth.signOut(),e$.push("/")}catch(e){eP("Erreur lors de la suppression du compte"),eR(!1)}}},eW=async e=>{let t=e||ee;if(!t.trim()&&0===eo.length||ea)return;let a=w;if(!a&&!(a=await eV()))return;let s={id:Date.now().toString(),role:"user",content:t||"Fichier(s) envoy\xe9(s)",created_at:new Date().toISOString(),has_files:eo.length>0};m(e=>[...e,s]),et(""),es(!0),eg(!1);let r=(Date.now()+1).toString();ev(r);try{let e=new FormData;e.append("messages",JSON.stringify([...c,s].map(e=>({role:e.role,content:e.content})))),e.append("conversationId",a),eo.forEach((t,a)=>{e.append("file_".concat(a),t)});let t=await fetch("/api/chat/enhanced",{method:"POST",body:e}),n=await t.json();if(t.ok){let e={id:r,role:"assistant",content:n.message,created_at:new Date().toISOString(),metadata:n.metadata};m(t=>[...t,e]),eJ()}else{var l;throw Error((null===(l=n.error)||void 0===l?void 0:l.message)||"Erreur lors de l'envoi du message")}}catch(t){console.error("Erreur:",t);let e={id:r,role:"assistant",content:"D\xe9sol\xe9, une erreur s'est produite. Veuillez r\xe9essayer dans quelques instants.",created_at:new Date().toISOString()};m(t=>[...t,e])}finally{es(!1),ed([]),ev(null)}},eB=e=>{e.preventDefault(),eW()},eQ=e=>{eW(e)},eX=e=>{et(t=>t+(t?" ":"")+e)},eY=async()=>{await X.ND.auth.signOut(),e$.push("/")};return(0,s.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-teal-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[er&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>el(!1)}),(0,s.jsxs)("div",{className:(0,o.cn)("bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-r border-teal-200 dark:border-gray-700 transition-all duration-300 flex flex-col shadow-lg z-50","fixed lg:relative inset-y-0 left-0",er?"w-80 translate-x-0":"w-0 -translate-x-full lg:translate-x-0 overflow-hidden"),children:[(0,s.jsxs)("div",{className:"p-4 sm:p-6 border-b border-teal-100 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(K.default,{src:"/images/logo.png",alt:"DocIA",width:40,height:40,className:"rounded-full"}),(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white dark:border-gray-900"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold text-black dark:text-teal-100 text-lg",children:"DocIA"}),(0,s.jsx)("p",{className:"text-xs text-black dark:text-teal-400",children:"Assistant Sant\xe9"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(eN,{}),(0,s.jsx)(ey,{}),(0,s.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>el(!1),className:"lg:hidden",children:(0,s.jsx)(F.A,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)(l.$,{onClick:eV,className:"w-full bg-gradient-to-r from-teal-600 to-teal-700 hover:from-teal-700 hover:to-teal-800 text-white shadow-md",children:[(0,s.jsx)($.A,{className:"h-4 w-4 mr-2"}),i.newConversation]})]}),(0,s.jsx)(d,{className:"flex-1 p-2 sm:p-4",children:(0,s.jsx)("div",{className:"space-y-2",children:j.map(e=>(0,s.jsxs)("div",{className:(0,o.cn)("group relative rounded-xl transition-all",w===e.id?"bg-teal-100 dark:bg-teal-900/30 border border-teal-200 dark:border-teal-700 shadow-sm":"hover:bg-teal-50 dark:hover:bg-gray-800/50"),children:[(0,s.jsxs)(l.$,{variant:"ghost",className:"w-full justify-start text-left h-auto p-3 rounded-xl",onClick:()=>eH(e.id),children:[(0,s.jsx)(L.A,{className:"h-4 w-4 mr-3 flex-shrink-0 text-teal-600 dark:text-teal-400"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"truncate font-medium text-sm text-black dark:text-gray-200",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)("div",{className:"text-xs text-black dark:text-gray-400",children:new Date(e.updated_at).toLocaleDateString()}),e.message_count&&(0,s.jsxs)(f.E,{variant:"secondary",className:"text-xs",children:[e.message_count," msg"]})]})]})]}),(0,s.jsx)(l.$,{variant:"ghost",size:"sm",onClick:t=>eG(e.id,t),className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity text-black dark:text-gray-400 hover:text-red-500",children:(0,s.jsx)(q.A,{className:"h-3 w-3"})})]},e.id))})}),(0,s.jsx)("div",{className:"p-4 border-t border-teal-100 dark:border-gray-700 bg-teal-50/50 dark:bg-gray-800/50",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,s.jsxs)(u,{className:"h-10 w-10 border-2 border-teal-200 dark:border-teal-700",children:[(0,s.jsx)(x,{src:(null==en?void 0:null===(e=en.user_metadata)||void 0===e?void 0:e.avatar_url)||"/placeholder.svg"}),(0,s.jsx)(h,{className:"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300",children:(0,s.jsx)(O.A,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"text-sm font-medium truncate text-black dark:text-teal-100",children:(null==en?void 0:null===(t=en.user_metadata)||void 0===t?void 0:t.full_name)||(null==en?void 0:en.email)}),(0,s.jsx)("div",{className:"text-xs text-black dark:text-teal-400",children:i.patient})]})]}),(0,s.jsxs)(C,{children:[(0,s.jsx)(A,{asChild:!0,children:(0,s.jsx)(l.$,{variant:"ghost",size:"sm",className:"text-black dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400",children:(0,s.jsx)(J.A,{className:"h-4 w-4"})})}),(0,s.jsxs)(S,{align:"end",className:"w-56",children:[(0,s.jsxs)(D,{onClick:()=>ew(!0),children:[(0,s.jsx)(O.A,{className:"h-4 w-4 mr-2"}),i.editProfile]}),(0,s.jsx)(z,{}),(0,s.jsxs)(D,{onClick:()=>eC(!0),className:"text-red-600 dark:text-red-400",children:[(0,s.jsx)(q.A,{className:"h-4 w-4 mr-2"}),i.deleteAccount]}),(0,s.jsx)(z,{}),(0,s.jsxs)(D,{onClick:eY,children:[(0,s.jsx)(U.A,{className:"h-4 w-4 mr-2"}),i.signOut]})]})]})]})})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,s.jsx)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-b border-teal-100 dark:border-gray-700 p-4 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[!er&&(0,s.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>el(!0),children:(0,s.jsx)(V.A,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(H.A,{className:"h-6 sm:h-8 w-6 sm:w-8 text-teal-600 dark:text-teal-400"}),(0,s.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),(0,s.jsxs)("div",{className:"hidden sm:block",children:[(0,s.jsx)("h1",{className:"font-bold text-black dark:text-teal-100 text-lg",children:"DocIA Assistant"}),(0,s.jsxs)("p",{className:"text-sm text-black dark:text-teal-400",children:["Douala General Hospital • ",i.online]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(f.E,{variant:"secondary",className:"bg-green-100 dark:bg-green-900/30 text-black dark:text-green-300 border-green-200 dark:border-green-700 hidden sm:inline-flex",children:["✓ ",i.secured]}),(0,s.jsx)(f.E,{variant:"outline",className:"bg-blue-50 dark:bg-blue-900/30 text-black dark:text-blue-300 border-blue-200 dark:border-blue-700 hidden sm:inline-flex",children:"GPT-Neo AI"})]})]})}),(0,s.jsx)(d,{className:"flex-1",children:(0,s.jsx)("div",{className:"container-responsive py-4 sm:py-6",children:ec?(0,s.jsxs)("div",{className:"text-center py-8 sm:py-12 space-y-6 sm:space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"relative mx-auto w-20 h-20 sm:w-24 sm:h-24",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-400 to-blue-500 rounded-full animate-pulse opacity-20"}),(0,s.jsx)("div",{className:"relative bg-gradient-to-r from-teal-500 to-blue-600 rounded-full p-4 sm:p-6 shadow-lg",children:(0,s.jsx)(H.A,{className:"h-8 w-8 sm:h-12 sm:w-12 text-white"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-teal-600 to-blue-600 bg-clip-text text-transparent mb-3",children:i.welcomeTitle}),(0,s.jsx)("p",{className:"text-black dark:text-gray-300 text-base sm:text-lg max-w-2xl mx-auto px-4",children:i.welcomeDescription})]})]}),(0,s.jsx)("div",{className:"max-w-3xl mx-auto space-y-4 px-4",children:(0,s.jsxs)("form",{onSubmit:eB,className:"relative",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.p,{value:ee,onChange:e=>et(e.target.value),placeholder:i.inputPlaceholder,className:"w-full h-14 sm:h-16 pl-4 sm:pl-6 pr-28 sm:pr-32 text-base sm:text-lg border-2 border-teal-200 dark:border-teal-700 rounded-2xl focus:border-teal-400 dark:focus:border-teal-500 focus:ring-4 focus:ring-teal-100 dark:focus:ring-teal-900/50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg",disabled:ea}),(0,s.jsxs)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1 sm:space-x-2",children:[(0,s.jsx)(ex,{onFilesChange:ed,disabled:ea}),(0,s.jsx)(em,{onTranscript:eX,disabled:ea}),(0,s.jsx)(l.$,{type:"submit",disabled:!ee.trim()&&0===eo.length||ea,className:"h-8 w-8 sm:h-10 sm:w-10 p-0 bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white rounded-full shadow-md",children:(0,s.jsx)(G.A,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-3 px-2 text-xs sm:text-sm",children:[(0,s.jsx)("p",{className:"text-black dark:text-gray-400",children:"DocIA peut analyser vos documents m\xe9dicaux et images. Parlez ou tapez votre question."}),(0,s.jsxs)("span",{className:"text-black dark:text-gray-500",children:[ee.length,"/1000"]})]})]})}),(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-black dark:text-gray-200",children:i.popularSuggestions}),(0,s.jsx)("div",{className:"grid-responsive max-w-6xl mx-auto px-4",children:eL.map((e,t)=>{let a=e.icon;return(0,s.jsx)(p.Zp,{className:"group cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-1 border-2 border-transparent hover:border-teal-200 dark:hover:border-teal-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm animate-fade-in",onClick:()=>eQ(e.question),style:{animationDelay:"".concat(100*t,"ms")},children:(0,s.jsx)(p.Wu,{className:"card-responsive",children:(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{className:(0,o.cn)("p-3 rounded-xl shadow-sm group-hover:shadow-md transition-all",e.color.replace("bg-","bg-").replace("-500","-100"),"dark:"+e.color.replace("bg-","bg-").replace("-500","-900/30")),children:(0,s.jsx)(a,{className:(0,o.cn)("h-5 w-5 sm:h-6 sm:w-6",e.textColor,"dark:"+e.textColor.replace("text-","text-").replace("-600","-400"))})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h4",{className:"font-semibold text-black dark:text-gray-400 mb-2 group-hover:text-teal-700 dark:group-hover:text-teal-300 transition-colors text-sm sm:text-base",children:e.title}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-black dark:text-gray-400 leading-relaxed",children:e.question})]})]})})},t)})})]}),(0,s.jsx)("div",{className:"pt-6 sm:pt-8 border-t border-gray-200 dark:border-gray-700 mt-8 sm:mt-12",children:(0,s.jsx)("p",{className:"text-xs sm:text-sm text-black dark:text-gray-400 px-4",children:i.copyright})})]}):(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[c.map(e=>{var t,a;return(0,s.jsxs)("div",{className:(0,o.cn)("flex gap-3 sm:gap-4 animate-fade-in","user"===e.role?"justify-end":"justify-start"),children:["assistant"===e.role&&(0,s.jsxs)(u,{className:"h-8 w-8 sm:h-10 sm:w-10 flex-shrink-0 border-2 border-teal-200 dark:border-teal-700",children:[(0,s.jsx)(x,{src:"/images/logo.png"}),(0,s.jsx)(h,{className:"bg-teal-100 dark:bg-teal-900 text-teal-600 dark:text-teal-300",children:(0,s.jsx)(H.A,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),(0,s.jsxs)("div",{className:(0,o.cn)("max-w-[85%] sm:max-w-[80%] rounded-2xl px-4 sm:px-6 py-3 sm:py-4 shadow-md","user"===e.role?"bg-gradient-to-r from-teal-500 to-blue-600 text-white":"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"),children:["assistant"===e.role&&eb===e.id?(0,s.jsx)(eh,{text:e.content,speed:20,onComplete:()=>ev(null),className:"text-sm leading-relaxed text-black dark:text-gray-200"}):(0,s.jsx)("div",{className:"whitespace-pre-wrap text-sm leading-relaxed text-black dark:text-gray-200",children:e.content}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:(0,o.cn)("text-xs opacity-70","user"===e.role?"text-teal-100":"text-black dark:text-gray-400"),children:new Date(e.created_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}),e.has_files&&(0,s.jsxs)(f.E,{variant:"secondary",className:"text-xs",children:[(0,s.jsx)(M.A,{className:"h-3 w-3 mr-1"}),i.filesAttached]}),(null===(t=e.metadata)||void 0===t?void 0:t.confidence)&&(0,s.jsxs)(f.E,{variant:"outline",className:"text-xs",children:[e.metadata.confidence,"% ",i.confidence]})]}),"assistant"===e.role&&(0,s.jsx)(eu,{text:e.content})]})]}),"user"===e.role&&(0,s.jsxs)(u,{className:"h-8 w-8 sm:h-10 sm:w-10 flex-shrink-0 border-2 border-blue-200 dark:border-blue-700",children:[(0,s.jsx)(x,{src:(null==en?void 0:null===(a=en.user_metadata)||void 0===a?void 0:a.avatar_url)||"/placeholder.svg"}),(0,s.jsx)(h,{className:"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300",children:(0,s.jsx)(O.A,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]},e.id)}),ea&&(0,s.jsxs)("div",{className:"flex gap-3 sm:gap-4 justify-start animate-fade-in",children:[(0,s.jsxs)(u,{className:"h-8 w-8 sm:h-10 sm:w-10 flex-shrink-0 border-2 border-teal-200 dark:border-teal-700",children:[(0,s.jsx)(x,{src:"/images/logo.png"}),(0,s.jsx)(h,{className:"bg-teal-100 dark:bg-teal-900 text-teal-600 dark:text-teal-300",children:(0,s.jsx)(H.A,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl px-4 sm:px-6 py-3 sm:py-4 shadow-md",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-teal-500 rounded-full animate-bounce"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-teal-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-teal-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),(0,s.jsx)("div",{ref:eF})]})})}),!ec&&(0,s.jsx)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-t border-teal-100 dark:border-gray-700 p-4 shadow-lg",children:(0,s.jsx)("form",{onSubmit:eB,className:"container-responsive",children:(0,s.jsxs)("div",{className:"relative flex items-center space-x-2 sm:space-x-3",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(n.p,{value:ee,onChange:e=>et(e.target.value),placeholder:i.continuePlaceholder,className:"pr-20 sm:pr-24 py-2 sm:py-3 text-sm sm:text-base border-2 border-teal-200 dark:border-teal-700 focus:border-teal-400 dark:focus:border-teal-500 rounded-2xl bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",disabled:ea}),(0,s.jsxs)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[(0,s.jsx)(ex,{onFilesChange:ed,disabled:ea}),(0,s.jsx)(em,{onTranscript:eX,disabled:ea})]})]}),(0,s.jsx)(l.$,{type:"submit",disabled:!ee.trim()&&0===eo.length||ea,className:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white rounded-2xl px-4 sm:px-6 py-2 sm:py-3 shadow-md",children:(0,s.jsx)(G.A,{className:"h-4 w-4"})})]})})})]}),(0,s.jsx)(g.lG,{open:ej,onOpenChange:ew,children:(0,s.jsxs)(g.Cf,{className:"sm:max-w-md",children:[(0,s.jsxs)(g.c7,{children:[(0,s.jsx)(g.L3,{className:"text-black dark:text-gray-200",children:i.modifyProfile}),(0,s.jsx)(g.rr,{className:"text-black dark:text-gray-400",children:"Modifiez vos informations personnelles"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[eE&&(0,s.jsxs)(N.Fc,{className:"border-red-200 dark:border-red-800 bg-red-300 dark:bg-red-900/20",children:[(0,s.jsx)(ep.A,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),(0,s.jsx)(N.TN,{className:"text-red-800 dark:text-red-200",children:eE})]}),eT&&(0,s.jsxs)(N.Fc,{className:"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20",children:[(0,s.jsx)(Z.A,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),(0,s.jsx)(N.TN,{className:"text-green-800 dark:text-green-200",children:eT})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(u,{className:"h-16 w-16",children:[(0,s.jsx)(x,{src:(null==en?void 0:null===(a=en.user_metadata)||void 0===a?void 0:a.avatar_url)||"/placeholder.svg"}),(0,s.jsx)(h,{className:"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300 text-lg",children:(0,s.jsx)(O.A,{className:"h-8 w-8"})})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm text-black dark:text-gray-400",children:i.profilePhoto}),(0,s.jsx)("p",{className:"text-xs text-black dark:text-gray-500",children:i.autoGenerated})]})]}),(0,s.jsx)(v.w,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.J,{htmlFor:"email",className:"text-black dark:text-gray-200",children:i.email}),(0,s.jsx)(n.p,{id:"email",type:"email",value:(null==en?void 0:en.email)||"",disabled:!0,className:"bg-gray-200 dark:bg-gray-800"}),(0,s.jsx)("p",{className:"text-xs text-black dark:text-gray-400",children:i.emailCannotChange})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.J,{htmlFor:"fullName",className:"text-black dark:text-gray-400",children:i.fullName}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(n.p,{id:"fullName",type:"text",value:eD,onChange:e=>ez(e.target.value),disabled:!eA||e_,placeholder:"Votre nom complet"}),eA?(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)(l.$,{type:"button",size:"sm",onClick:eM,disabled:e_||!eD.trim(),children:e_?(0,s.jsx)(B.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(Z.A,{className:"h-4 w-4"})}),(0,s.jsx)(l.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{var e;eS(!1),ez((null==en?void 0:null===(e=en.user_metadata)||void 0===e?void 0:e.full_name)||""),eP(null)},disabled:e_,children:(0,s.jsx)(F.A,{className:"h-4 w-4"})})]}):(0,s.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>eS(!0),disabled:e_,children:(0,s.jsx)(W.A,{className:"h-4 w-4"})})]})]})]})]})}),(0,s.jsx)(g.lG,{open:ek,onOpenChange:eC,children:(0,s.jsxs)(g.Cf,{className:"sm:max-w-md",children:[(0,s.jsxs)(g.c7,{children:[(0,s.jsx)(g.L3,{className:"text-red-600 dark:text-red-400",children:i.deleteAccountTitle}),(0,s.jsx)(g.rr,{className:"text-black dark:text-gray-400",children:i.deleteAccountDescription})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[eE&&(0,s.jsxs)(N.Fc,{className:"border-red-200 dark:border-red-800 bg-red-300 dark:bg-red-900/20",children:[(0,s.jsx)(ep.A,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),(0,s.jsx)(N.TN,{className:"text-red-800 dark:text-red-200",children:eE})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-red-300 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[(0,s.jsx)(Q.A,{className:"h-6 w-6 text-red-600 dark:text-red-400 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Attention"}),(0,s.jsx)("p",{className:"text-xs text-red-700 dark:text-red-300",children:i.deleteAccountWarning})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2 justify-end",children:[(0,s.jsx)(l.$,{variant:"outline",onClick:()=>eC(!1),disabled:e_,children:i.cancel}),(0,s.jsxs)(l.$,{variant:"destructive",onClick:eZ,disabled:e_,children:[e_?(0,s.jsx)(B.A,{className:"h-4 w-4 mr-2 animate-spin"}):(0,s.jsx)(q.A,{className:"h-4 w-4 mr-2"}),i.deleteAccountConfirm]})]})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[531,387,263,254,772,898,482,358],()=>t(2783)),_N_E=e.O()}]);